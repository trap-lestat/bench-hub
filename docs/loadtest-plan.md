# 压测方案（Locust）

## 1. 场景与用户行为
- 场景 A：登录 -> 列表查询 -> 详情查看
- 场景 B：创建资源 -> 编辑资源 -> 列表确认
- 场景 C：高频读取（列表 + 详情）

## 2. 用户模型
- 并发用户数：50 / 100 / 200
- Ramp-up：每 10s 增加 10 用户
- 运行时长：30 分钟

## 3. 脚本结构
- locustfile.py
  - class ApiUser(HttpUser)
  - on_start: 登录获取 token
  - task: list_items, get_item, create_item
  - wait_time: between(1, 3)

## 4. 数据准备
- 预置管理员账户
- 初始化 items 1000 条
- 随机生成请求数据

## 5. 指标与阈值
- QPS：>= 200
- 95% 响应时间 < 300ms（读）
- 错误率 < 1%

## 6. 压测环境
- 单独压测环境
- 与生产一致的配置（CPU/内存/DB）

## 7. 报告输出
- 吞吐量、延迟分布、错误率
- 资源消耗与瓶颈分析
- 结论与优化建议
